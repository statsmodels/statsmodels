skip_tags: true
clone_depth: 50

os: Visual Studio 2015

environment:
  matrix:
    - CONDA: C:\Miniconda-x64
      NUMPY: "1.9.1"
      SCIPY: "0.14.0"
    - CONDA: C:\Miniconda34-x64
      NUMPY: "1.9"
      SCIPY: "0.15.1"
    - CONDA: C:\Miniconda35-x64
      NUMPY: "1.11.1"
      SCIPY: "0.18"
    - CONDA: C:\Miniconda36-x64
      NUMPY: "1.11.2"
      SCIPY: "0.18.1"

platform:
    - x64

build_script:
  - SET PATH=%CONDA%;%CONDA%\Scripts;%CONDA%\Library\bin;%PATH%
  - SET MKL_NUM_THREADS=1
  - SET NUMEXPR_NUM_THREADS=1
  - SET OMP_NUM_THREADS=1
  - conda config --set always_yes yes
  - conda update conda --quiet
  - ps: If ($env:SCIPY) { conda install numpy=$env:NUMPY scipy=$env:SCIPY cython pandas pip nose patsy --quiet } Else {
        conda install numpy scipy cython pandas pip nose patsy --quiet }
  - pip install "pytest<4" pytest-xdist
  - git checkout 9403e8d2
  - python setup.py develop

test_script:
  # Remove xdist (-n auto) until warning reporting is working
  - pytest statsmodels

after_test:
  # Make wheels
  # - cd statsmodels
  - python setup.py bdist_wheel

artifacts:
  - path: dist\*
